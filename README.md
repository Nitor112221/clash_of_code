![Статус последнего коммита](https://gitlab.crja72.ru/django/2025/spring/course/team-1/badges/main/pipeline.svg)

# Это учебный проект специализации Django
### Дисклеймер: все команды написаны для операционной системы linux, при их вызове проверьте, что на вашей OS они будут работать также, в ином случае поменяйте их в соответствие с синтаксисом терминала вашей OS  
## Необходимое ПО:
1. [Python](https://www.python.org/downloads/) версия 3.11, остальные версии могут работать нестабильно
2. [Git](https://git-scm.com/downloads) нужен для установки проекта из репозитория
3. [gettext](https://github.com/mlocati/gettext-iconv-windows/releases/tag/v0.23-v1.17) нужен для работы локализации (если у вас линукс, можете воспользоваться следующей командой)
```bash
apt install gettext
```
## Установка проекта:
Для установки проекта вы можете прописать следующую команду в терминал:
```bash
git clone https://gitlab.crja72.ru/django/2025/spring/course/projects/team-1.git clash_of_code
```
После нужно перейти в директорию проекта:
```bash
cd 169467-kostyatchikrizov-course-1340
```
## Создание виртуального окружения для проекта:
* Создание виртуального окружения: 
```bash
python3 -m venv .venv
```
* Активация виртуального окружения:
```bash
source .venv/bin/activate
```
## Установка зависимостей
* Зависимости для продакшена: 
```bash
pip install -r requirements/prod.txt
```
* Зависимости для разработки:
```bash
pip install -r requirements/dev.txt
```
* Зависимости для тестирования: 
```bash
pip install -r requirements/test.txt
```
## Подготовка к запуску
* Скопируйте все параметры из файла template.env в .env с помощью команды:
```bash
cp template.env .env
```
* Установите нужные вам настройки в файле .env:
* В DJANGO_ALLOWED_HOSTS пишется список в формате string,string
* В DJANGO_SECRET_KEY пишется ваш секретный ключ
* В DJANGO_DEBUG указывается формат запуска приложения (в режиме отладки или нет), принимает значения типа bool
* В DJANGO_ALLOW_REVERSE принимает значения bool и указывает нужно ли включить ReverseRussianWordsMiddleware
* В DJANGO_MAIL хранится почта, с которой будет отсылаться сообщения
* В DJANGO_MAX_AUTH_ATTEMPTS указывается количество попыток, доступных юзеру для авторизации, после чего его аккаунт деактивируется
* В командной строке перейти в каталог lyceum с помощью 
```bash 
cd lyceum
```
### Подготовка базы данных
* Создание базы данных (для этого нужно применить все миграции):
```bash
python manage.py migrate
```
* Если у вас есть дамп базы данных, подходящей по структуре ER схемы, вы можете его загрузить с помощью следующей команды
```bash
python manage.py loaddata <путь до файла с вашей фикстурой>
```
* В проекте есть фейковые данные для теста, можете их загрузить в базу данных с помощью команды:
```bash
python manage.py loaddata fixtures/data.json
```
### Подготовка админ-панели
* Создание супер пользователя для входа в админ-панель (запомните данные, которые вы ввели)
```bash
python manage.py createsuperuser 
```
* Теперь вы сможете зайти в админ панель по адресу `127.0.0.1:8000/admin` или по другому, который вы настроили для вашей системы
### Подготовка локализации
* Скомпилировать файлы локализации:
```bash
django-admin compilemessages
```
## Запуск
* Запустить приложение: 
```bash
python manage.py runserver
```

Готово, теперь вы можете перейти на сайт по адресу `127.0.0.1:8000` или `localhost:8000`
# Информация про проекте
## Структура базы данных
![Схема базы данных](ER.jpg)